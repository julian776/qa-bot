:root{
  --bg:#0f1117;--card:#151a22;--text:#e9eef5;--muted:#9aa3af;
  --primary:#5b8cff;--primary-600:#4a76d9;--user:#1f2937;--bot:#141a1f;--chip:#1f2a37;--danger:#ff6b6b
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto}

#root{height:100%} /* quitamos el centrado forzado */
.app{
  display:grid;
  grid-template-columns: 300px minmax(0, 1fr);
  height: 100vh;
  width: 100%;
  margin: 0;          /* sin centrado */
}
.sidebar{background:var(--card);border-right:1px solid #1f2430;display:flex;flex-direction:column}
.sidebar .head{display:flex;align-items:center;justify-content:space-between;padding:12px 12px;border-bottom:1px solid #1f2430}
.sidebar .list{flex:1;overflow:auto}
.conv{display:flex;gap:10px;flex-direction:column;padding:10px 12px;border-bottom:1px solid #1f2430;cursor:pointer}
.conv:hover{background:#101521}
.conv .title{font-weight:600}
.conv .date{color:var(--muted);font-size:12px}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid #1f2430;background:var(--card)}
.brand{display:flex;gap:10px;align-items:center}
.brand .logo{width:26px;height:26px;border-radius:6px;background:#0b1320;display:grid;place-items:center}
.actions{display:flex;gap:8px}
.btn{border:1px solid #2a3550;background:#0f1524;color:var(--text);border-radius:10px;padding:8px 12px;cursor:pointer}
.btn:hover{filter:brightness(1.05)}
.btn.primary{background:var(--primary);border-color:var(--primary-600);color:#0b0f18;font-weight:600}
.btn.ghost{background:transparent}
.btn.warn{border-color:#442;background:#2a1717}
.main{display:grid;grid-template-rows:auto 1fr auto;height:100%}
.messages{
  padding:16px; overflow:auto; display:flex; flex-direction:column; gap:10px;
  max-width: 1100px;  /* puedes subir/bajar (100% si las quieres full) */
  margin: 0 auto;     /* centra solo la columna de mensajes */
}
.empty{opacity:.8;text-align:center;margin-top:8vh}
.bubble{display:flex;gap:10px;max-width:900px;padding:10px 12px;border-radius:14px;line-height:1.45}
.bubble.user{align-self:flex-end;background:var(--user)}
.bubble.bot{align-self:flex-start;background:var(--bot)}
.bubble .avatar{width:22px;height:22px;border-radius:50%;background:#0b1320;display:grid;place-items:center}
.bubble .msg{white-space:pre-wrap}
.typing{display:inline-flex;gap:6px;align-self:flex-start;padding:10px 12px;background:var(--bot);border-radius:14px}
.dot{width:6px;height:6px;background:var(--muted);border-radius:50%;animation:blink 1.2s infinite ease-in-out}
.dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,80%,100%{opacity:.3}40%{opacity:1}}
.input{display:grid;grid-template-columns:1fr auto;gap:10px;padding:12px;border-top:1px solid #1f2430;background:var(--card)}
.input .row{display:flex;gap:8px;align-items:center}
textarea{width:100%;resize:vertical;min-height:48px;max-height:200px;padding:10px 12px;border-radius:10px;border:1px solid #263042;background:#0e1522;color:var(--text)}
.attachments{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.chip{background:var(--chip);color:var(--text);border:1px solid #2a3550;padding:4px 8px;border-radius:999px;font-size:12px}
.chip .x{margin-left:6px;cursor:pointer}
.links{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
.link-chip{display:inline-flex;align-items:center;gap:6px;background:#0c1b2d;border:1px solid #22324b;padding:4px 8px;border-radius:999px;font-size:12px}
.link-chip a{color:#a8c7ff;text-decoration:none}
.error{color:var(--danger);font-size:12px}
/* markdown */
.code-block{position:relative;background:#0b1320;border:1px solid #22324b;border-radius:10px;padding:10px;overflow:auto}
.copy-btn{position:absolute;top:6px;right:6px;border:1px solid #2a3550;background:#0f1524;color:var(--text);border-radius:8px;padding:4px 8px;cursor:pointer}
.code-inline{background:#0b1320;border:1px solid #22324b;border-radius:6px;padding:0 4px}

@media (max-width: 900px){
  .app{ grid-template-columns: 1fr; }
  .sidebar{ display:none; }
}
